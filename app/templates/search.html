{% extends "base.html" %}

{% block custom_css %}
    <link href="{{ url_for("static", filename="css/search.css") }}" rel="stylesheet">
{% endblock %}

{% block content %}
    SEARCH <br>

    <form id="search-form" method="post" action="{{ url_for("search") }}">
        {{ form.hidden_tag() }}

        <div class="row">
            <div class="col-sm-12">
                {{ form.type.label }}
                {{ form.type(class="form-control") }}
                <div class="error type"></div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-6">
                {{ form.first_name.label }}
                {{ form.first_name(class="form-control") }}
            </div>
            <div class="col-sm-6">
                {{ form.last_name.label }}
                {{ form.last_name(class="form-control") }}
            </div>
        </div>

        <div class="row">
            <div class="col-sm-6">
                {{ form.county.label }}
                {{ form.county(class="form-control") }}
                <div class="error county"></div>
            </div>
            <div class="col-sm-6">
                {{ form.year.label }}
                {{ form.year(class="form-control", maxLength=4) }}
                <div class="error year"></div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-6">
                {{ form.number.label }}
                {{ form.number(class="form-control") }}
            </div>
            <div class="col-sm-6">
                {{ form.soundex.label }}
                {{ form.soundex(class="form-control", maxLength=4) }}
                <div class="error soundex"></div>
            </div>
        </div>

        {{ form.year_sort(hidden="true") }}
        {{ form.number_sort(hidden="true") }}
        {{ form.first_name_sort(hidden="true") }}
        {{ form.last_name_sort(hidden="true") }}
        {{ form.soundex_sort(hidden="true") }}
        {{ form.start(hidden="true") }}

        <button type="submit" class="btn btn-default">Submit</button>
    </form>

    <div class="panel panel-default">
        <div class="panel-heading">
            <div class="row">
                <div class="col-sm-2">
                    County
                </div>
                <div class="col-sm-2 sort-field" data-sort-order="none" data-target="year_sort">
                    Year <span class="glyphicon" aria-hidden="true"></span>
                </div>
                <div class="col-sm-2 sort-field" data-sort-order="none" data-target="number_sort">
                    Certificate Number <span class="glyphicon" aria-hidden="true"></span>
                </div>
                <div class="col-sm-2 sort-field" data-sort-order="none" data-target="first_name_sort">
                    First Name <span class="glyphicon" aria-hidden="true"></span>
                </div>
                <div class="col-sm-2 sort-field" data-sort-order="none" data-target="last_name_sort">
                    Last Name <span class="glyphicon" aria-hidden="true"></span>
                </div>
                <div class="col-sm-2 sort-field" data-sort-order="none" data-target="soundex_sort">
                    Soundex <span class="glyphicon" aria-hidden="true"></span>
                </div>
            </div>
        </div>
        <div class="panel-body">
            <div id="results"></div>
            <img id="spinner" src="{{ url_for('static', filename='img/spinner.gif') }}" height="30" />
        </div>
    </div>
{% endblock %}

{% block custom_script %}
    <script type="text/javascript" src="{{ url_for('static', filename='js/search.js') }}"></script>
{% endblock %}
